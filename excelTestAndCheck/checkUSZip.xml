<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="7a73d5a1-6083-4096-bed8-21cc73ce8717" discardOkResults="true" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="checkUSZip" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="e5b42cee-ebb2-44be-bccc-3de30c87bd7ffileName">initialTests</con:setting><con:setting id="7a73d5a1-6083-4096-bed8-21cc73ce8717fileName">checkUSZip</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="datasource" name="importData" id="5a0b0cb1-6d7f-405e-b87e-234616b81aea"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Generator"><con:configuration><generatedDataCount>1</generatedDataCount><generatorsTotalNumber>1</generatorsTotalNumber><lastSelectedProperty>0</lastSelectedProperty><GeneratorType0>USZIP</GeneratorType0><PropertyName0>zip</PropertyName0><repetitionCountzip>0</repetitionCountzip><repeatValueszip>false</repeatValueszip><USZipCodesDataGeneratorFormatzip>XXXXX</USZipCodesDataGeneratorFormatzip><escapeSpaceSequence/></con:configuration></con:dataSource><con:property>zip</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="restrequest" name="queryByZip" id="2c89db8c-f341-4592-89c4-71f9f52a9581"><con:settings/><con:config service="googleMaps" resourcePath="/maps/api/geocode/{format}" methodName="byAddress" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="queryByZip" id="39481233-4b0e-4c52-9a2a-007cce250b0f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://maps.googleapis.com</con:endpoint><con:request/><con:originalUri>https://maps.googleapis.com/maps/api/geocode/json</con:originalUri><con:assertion type="Simple Contains" id="637caf52-c775-407b-beac-5f0b01cf0f57" name="Contains" disabled="true"><con:configuration><token>${importData#address}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="f18967d8-04fc-4988-86f3-fe5bbcea9780" name="Not Contains" disabled="true"><con:configuration><token>${importData#address}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="6965daa8-0c3d-4243-b6da-23414d50f39a" name="Contains 2"><con:configuration><token/><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="6519cfcb-d880-4fff-819f-f984d6b318be" name="Match content of [formatted_address]"><con:configuration><path>$['results'][0]['formatted_address']</path><content>* USA</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="components" value=""/>
  <con:entry key="address" value="${importData#zip}"/>
  <con:entry key="format" value="json"/>
</con:parameters><con:parameterOrder><con:entry>address</con:entry><con:entry>components</con:entry><con:entry>format</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="badCheck" id="5afe8574-ac76-4e5a-8b09-75cb80a69178"><con:settings/><con:config><script>def lastResult = testRunner.getResults().last()
def lastResultName = lastResult.getTestStep().getLabel().toString()
def lastResultStatus = lastResult.getStatus().toString()

if ( lastResultStatus == 'FAILED' ) {
	myGotoStepName = 'writeBadZips'
	testRunner.gotoStepByName( myGotoStepName )
} else {
	myLoopStep = 'DataSource Loop'
	testRunner.gotoStepByName( myLoopStep )
}</script></con:config></con:testStep><con:testStep type="datasink" name="writeBadZips" id="d15ff836-206e-4559-87a6-f3373966d53a"><con:settings/><con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSink type="File"><con:configuration><fileName>C:/Users/Nathan.Wright/OneDrive - SmartBear Software, Inc/projects/jenkinsReports/zipCodes/badZips.txt</fileName><separator/><escape/><quote>false</quote><trim>true</trim><append>true</append><encoding>Cp1252</encoding></con:configuration></con:dataSink><con:properties><con:property><con:name>badZip</con:name><con:value>"${importData#zip}",</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop" id="0145a406-b8dd-4648-b188-9cfca57ce2d3"><con:settings/><con:config><dataSourceStep>importData</dataSourceStep><targetStep>queryByZip</targetStep></con:config></con:testStep><con:properties/><con:reportParameters/><con:breakPoints><con:testStepId>607c4980-7dd6-4a97-97a4-643bc177cd27</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>17ffdcad-19a3-4741-83f2-6a3152c50a8e</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>9ab0b25c-80c4-466a-b372-54e1d73b0f6e</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>6600e9fd-3f1b-43a7-b74b-c78e74f43f7a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>04c14ae0-0ec7-4c19-a676-45a3782be094</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>d15ff836-206e-4559-87a6-f3373966d53a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>5afe8574-ac76-4e5a-8b09-75cb80a69178</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase>